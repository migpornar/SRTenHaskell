%!TEX TS-program = pdflatex
%!TEX encoding = utf8
\documentclass[a4paper,12pt, twoside]{book}
% \usepackage[T1]{fontenc}
\usepackage[utf8]{inputenc}
\usepackage[english, spanish, es-noshorthands]{babel}
\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{enumerate} 
\usepackage{fancyvrb}              % Verbatim extendido
\usepackage{makeidx}               % Índice
\usepackage{mathrsfs}
\usepackage{pgf,tikz}
\usepackage{algorithmic}
\usetikzlibrary{decorations.pathmorphing}
\usepackage{stackrel}
\usepackage{mathpazo} 
\usepackage[scaled=.90]{helvet}
\usepackage{cmtt}
\renewcommand{\ttdefault}{cmtt}
\usepackage{a4wide}
\usepackage{appendix}
\usepackage[pdfauthor={Miguel Angel Porras},%
  pdftitle={Sistemas de reescritura},%
  pdfstartview=FitH,%
  bookmarks=false,%
  colorlinks=true,%
  urlcolor=blue,%
  unicode=true]{hyperref}
    
\usetikzlibrary{arrows}
\usetikzlibrary{decorations.pathreplacing}

\DefineVerbatimEnvironment{code*}{Verbatim}
{fontsize=\normalsize,
 fontfamily=cmtt,
 frame=single}

\DefineVerbatimEnvironment{sesion}{Verbatim}
{commandchars=\\\{\},
 codes={\catcode`$=3\catcode`$=3},
 fontsize=\normalsize,
 fontfamily=cmtt,
 fontshape=n,
 formatcom=\color{red},
 % xleftmargin=2em % ,
 frame=leftline
}


\DefineVerbatimEnvironment{sesion*}{Verbatim}
{%commandchars=\\\{\},
 codes={\catcode`$=3\catcode`$=3},
 fontsize=\normalsize,
 fontshape=n,
 fontfamily=cmtt,
 xleftmargin=2em,
 frame=leftline}

\DefineVerbatimEnvironment{preludio}{Verbatim}
{% commandchars=\\\{\},
 codes={\catcode`$=3\catcode`$=3},
 fontsize=\normalsize,
 fontfamily=cmtt,
 frame=single,
 framesep=2mm,
 label=\mbox{Prelude}}

\DefineVerbatimEnvironment{erroneo}{Verbatim}
{% commandchars=\\\{\},
 codes={\catcode`$=3\catcode`$=3},
 fontsize=\normalsize,
 fontfamily=cmtt,
 frame=single,
 framesep=2mm,
 label=\mbox{Código erróneo}}

\DefineVerbatimEnvironment{codigo}{Verbatim}
{% commandchars=\\\{\},
 codes={\catcode`$=3\catcode`$=3},
 fontsize=\normalsize,
 fontfamily=cmtt,
  formatcom=\color{blue},
frame=single}

\DefineVerbatimEnvironment{code}{Verbatim}
{% commandchars=\\\{\},
 codes={\catcode`$=3\catcode`$=3},
 fontsize=\normalsize,
 fontfamily=cmtt,
 frame=single}

\DefineVerbatimEnvironment{nverbatim}{Verbatim}
{commandchars=\\\{\},
 codes={\catcode`$=3\catcode`$=3},
 fontsize=\normalsize,
 fontfamily=cmtt,
 xleftmargin=2em}

\DefineVerbatimEnvironment{nverbatim*}{Verbatim}
{% commandchars=\\\{\},
 codes={\catcode`$=3\catcode`$=3},
 fontsize=\normalsize,
 fontfamily=cmtt,
 xleftmargin=2em}

\newcommand{\comentario}[1]{{\colorbox{yellow}{Comentario}: \textit{#1}}}

% =====================
% = Datos importantes =
% =====================

\title{Sistemas de reescritura desde el punto de vista de la programación funcional}
\author{Miguel Ángel Porras Naranjo}
\date{\today}
\newcommand{\tutores}[1]{\newcommand{\guardatutores}{#1}}
\tutores{Prof. José A. Alonso\\
         Prof. María José Hidalgo}

% ======================
% = Páginas de títulos =
% ======================

\makeatletter
\edef\maintitle{\@title}
\renewcommand\maketitle{%
  \begin{titlepage}
      \vspace*{1.5cm}
      \parskip=0pt
      \Huge\bfseries
      \begin{center}
          \leavevmode\includegraphics[totalheight=6cm]{sello.eps}\\[2cm]
          \@title
      \end{center}
      \vspace{1cm}
      \begin{center}
          \@author
      \end{center}
  \end{titlepage}
  
  \begin{titlepage}
  \parindent=0pt
  \begin{flushleft}
  \vspace*{1.5mm}
  \setlength\baselineskip{0pt}
  \setlength\parskip{0mm}
  \begin{center}
      \leavevmode\includegraphics[totalheight=4.5cm]{sello.eps}
  \end{center}
  \end{flushleft}
  \vspace{1cm}
  \bgroup
  \Large \bfseries
  \begin{center}
  \@title
  \end{center}
  \egroup
  \vspace*{.5cm}
  \begin{center}
  \@author
  \end{center}
  \vspace*{1.8cm}
  \begin{flushright}
  \begin{minipage}{8.45cm}
      Memoria presentada como parte de los requisitos para la obtención del título de
      Grado en Matemáticas por la Universidad de Sevilla.

      \vspace*{7.5mm}

      Tutorizada por
      % \vspace*{5mm}
  \end{minipage}\par
  \begin{tabularx}{8.45cm}[b]{@{}l}
      \guardatutores
  \end{tabularx}
   \end{flushright}
      \vspace*{\fill}
   \end{titlepage}
   \pagestyle{tfg}
   \renewcommand{\chaptermark}[1]{\markright{\thechapter.\space ##1}}
   \renewcommand{\sectionmark}[1]{}
   \renewcommand{\subsectionmark}[1]{}
  }
\makeatother

% ======================================
% = Color de la Universidad de Sevilla =
% ======================================

\usepackage{tikz}
\definecolor{USred}{cmyk}{0,1.00,0.65,0.34}

% =========
% = Otros =
% =========

\usepackage[]{tabularx}
\usepackage[]{enumitem}
\setlist{noitemsep}

% ==========================
% = Matemáticas y teoremas =
% ==========================

\usepackage[]{amsmath}
\usepackage[]{amsthm}
\usepackage[]{mathtools}
\usepackage[]{bm}
\usepackage[]{thmtools}
\usepackage[]{thmtools}
\newcommand{\marcador}{\vrule height 10pt depth 2pt width 2pt \hskip .5em\relax}
\newcommand{\cabeceraespecial}{%
    \color{USred}%
    \normalfont\bfseries}
\declaretheoremstyle[
    spaceabove=\medskipamount,
    spacebelow=\medskipamount,
    headfont=\cabeceraespecial\marcador,
    notefont=\cabeceraespecial,
    notebraces={(}{)},
    bodyfont=\normalfont\itshape,
    postheadspace=1em,
    numberwithin=chapter,
    headindent=0pt,
    headpunct={.}
    ]{importante}
\declaretheoremstyle[
    spaceabove=\medskipamount,
    spacebelow=\medskipamount,
    headfont=\normalfont\itshape\color{USred},
    notefont=\normalfont,
    notebraces={(}{)},
    bodyfont=\normalfont,
    postheadspace=1em,
    numberwithin=chapter,
    headindent=0pt,
    headpunct={.}
    ]{normal}
\declaretheoremstyle[
    spaceabove=\medskipamount,
    spacebelow=\medskipamount,
    headfont=\normalfont\itshape\color{USred},
    notefont=\normalfont,
    notebraces={(}{)},
    bodyfont=\normalfont,
    postheadspace=1em,
    headindent=0pt,
    headpunct={.},
    numbered=no,
    qed=\color{USred}\marcador
    ]{demostracion}
\declaretheoremstyle[
spaceabove=\medskipamount,
spacebelow=\medskipamount,
headfont=\cabeceraespecial,
notefont=\cabeceraespecial,
notebraces={(}{)},
bodyfont=\normalfont,
postheadspace=1em,
numberwithin=chapter,
headindent=0pt,
headpunct={.}
]{nota}


\declaretheorem[name=Observaci\'on, style=normal]{obse}
\declaretheorem[name=Corolario, style=normal]{coro}
\declaretheorem[name=Notaci\'on, style=nota]{nota}
\declaretheorem[name=Ejemplo, style=nota]{ejem}
\declaretheorem[name=Proposici\'on, style=normal]{prop}
\declaretheorem[name=Lema, style=normal]{lema}

\declaretheorem[name=Teorema, style=importante]{teor}
\declaretheorem[name=Definici\'on, style=importante]{defi}

\let\proof=\undefined
\declaretheorem[name=Demostraci\'on, style=demostracion]{demo}


% ============================
% = Composición de la página =
% ============================

\usepackage[
        a4paper,
    textwidth=80ex,
]{geometry}

\linespread{1.069}
\parskip=10pt plus 1pt minus .5pt
\frenchspacing
% \raggedright

% ==============================
% = Composición de los títulos =
% ==============================

\usepackage[explicit]{titlesec}

\newcommand{\hsp}{\hspace{20pt}}
\titleformat{\chapter}[hang]
    {\Huge\sffamily\bfseries}
    {\thechapter\hsp\textcolor{USred}{\vrule width 2pt}\hsp}{0pt}
    {#1}
\titleformat{\section}
  {\normalfont\Large\sffamily\bfseries}{\thesection\space\space}
  {1ex}
  {#1}
\titleformat{\subsection}
  {\normalfont\large\sffamily}{\thesubsection\space\space}
  {1ex}
  {#1}

% Abreviaturas matemáticas:
% -------------------------
\newcommand{\Pos}{\mbox{Pos }}
\newcommand{\Var}{\mbox{Var }}
\newcommand{\Ran}{\mbox{Ran }}
\newcommand{\VRan}{\mbox{VRan }}
\newcommand{\Sub}{\mbox{Sub }}
\newcommand{\Dom}{\mbox{Dom }}
\newcommand{\Unify}{\mbox{\texttt{Unificar}}}
\providecommand{\abs}[1]{\lvert#1\rvert}

% =======================
% = Cabeceras de página =
% =======================

\usepackage[]{fancyhdr}
\usepackage[]{emptypage}
\fancypagestyle{plain}{%
    \fancyhf{}%
    \renewcommand{\headrulewidth}{0pt}
    \renewcommand{\footrulewidth}{0pt}
}
\fancypagestyle{tfg}{%
    \fancyhf{}%
    \renewcommand{\headrulewidth}{0pt}
    \renewcommand{\footrulewidth}{0pt}
    \fancyhead[LE]{{\normalsize\color{USred}\bfseries\thepage}\quad
                    \small\textsc{\MakeLowercase{\maintitle}}}
    \fancyhead[RO]{\small\textsc{\MakeLowercase{\rightmark}}%
                    \quad{\normalsize\bfseries\color{USred}\thepage}}%
                    }

\makeatletter
\newcommand{\dotminus}{\mathbin{\text{\@dotminus}}}

\newcommand{\@dotminus}{%
  \ooalign{\hidewidth\raise1ex\hbox{.}\hidewidth\cr$\m@th-$\cr}%
}
\makeatother

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%  Construcción del índice                                                 %%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\makeindex

% =============================
% = El documento empieza aquí =
% =============================

% \includeonly{Formalizacion_del_concepto_de_terminos}

\begin{document}
\maketitle

\frontmatter
\tableofcontents

\mainmatter

\include{Sistemas_de_reduccion_abstractos}
\include{Formalizacion_del_concepto_de_terminos}
\include{El_problema_de_la_unificacion}
\include{Terminacion}
\include{Confluencia}
\include{Completacion}
\include{Funciones_auxiliares_para_Haskell}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%  Índice                                                                  %%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\addcontentsline{toc}{chapter}{Indice de definiciones}

\printindex





















%\begin{codigo}
%       agrupa :: Int -> [a] -> [[a]]
%       agrupa n [] = []
%       agrupa n xs = take n xs : agrupa n (drop n xs)
%\end{codigo}
%\chapter*{English Abstract}
%\addcontentsline{toc}{chapter}{English Abstract}
%\markright{English Abstract}
%\begin{otherlanguage}{english}
%    According to the guidelines, every dissertation %should include a short english abstract at the %beginning. In the abstract, you describe in general %terms what is your dissertation about, the main points %you want to make, and any important consequences that %may arise.
%\end{otherlanguage}


%\chapter{Los enunciados}
%
%\section{Teoremas y demostraciones}
%
%
%\begin{theorem}[Euclides]\label{thm:th1}
%    Esto es un Teorema. Se numeran a partir del 1 en cada capítulo. Como son importantes, tienen un cuadrado rojo al principio. Llevan letra cursiva.
%\end{theorem}
%
%\begin{proof}
%    Esto es la demostración. Al final de la demostración se puede ver un cuadrado rojo similar al de los teoremas. Las demostraciones no llevan letra cursiva.
%\end{proof}
%
%
%\begin{definition}\label{def:1}
%    Esto es una definición. Las definiciones son importantes; también llevan un cuadradito rojo.
%\end{definition}
%
%
%\subsection{Otros enunciados}
%
%
%\begin{remark}
%    Esto es una observación, que dice que $e=mc^{2}$. Como las observaciones no son importantes, no llevan cuadrado rojo, y el tipo de letra no es cursiva.
%\end{remark}
%
%
%\begin{proof}
%    Si la demostración acaba en una fórmula, para poner el cuadrado rojo a la altura de la última formula, hay que usar la orden \verb|\qedhere|, como en este caso:
%    \[
%        e=mc^{2}.\qedhere
%    \]
%
%\end{proof}
%
%
%\begin{corollary}\label{cor:1}
%    Esto es un corolario.
%\end{corollary}
%
%\begin{proposition}\label{pro:1}
%    Esto es una proposición.
%\end{proposition}
%
%\begin{lemma}[Gauss]\label{lem:1}
%    Esto es un lema.
%\end{lemma}
%
%
%\backmatter
%
%\bibliographystyle{acm}
% \biliography{miarchivo} % -> lee miarchivo.bib
% he usado esto: http://www.cs.us.es/~jalonso/cursos/i1m/doc/Funciones_basicas.html#(++)


\end{document}


%%% Local Variables:
%%% mode: latex
%%% TeX-master: t
%%% End:
